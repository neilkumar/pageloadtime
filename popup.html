<style>
body {
   min-width:357px;
   min-height:357px;
   overflow-x:hidden;
}

div {
   float: left;
   margin: 5px;
}

</style>

<script>

function getPerformance(performance) {
   //console.log(performance);
   addNavigation(performance);
   addTimingDelta(performance.timing, "DNS Lookup", "domainLookupStart", "domainLookupEnd");
   addTimingDelta(performance.timing, "Connect", "connectStart", "connectEnd");
}
	
function addNavigation(performance) {
   var NAVIGATION_TYPE = ["Navigate", "Reload", "Back/Forward"];
   var div = document.createElement("div");
   div.innerHTML = "Navigation: " + NAVIGATION_TYPE[performance.navigation.type];
   console.log("Navigation: " + NAVIGATION_TYPE[performance.navigation.type]);
   document.body.appendChild(div);
}

function addTimingDelta(timing, name, start, end) {
   var navigationDiv = document.createElement("div");
   var div = document.createElement("div");
   var delta = timing[end] - timing[start];
   div.innerHTML = name + ": " + delta + " ms";
   document.body.appendChild(div);
}

window.onload = function() { 
   var bg = chrome.extension.getBackgroundPage();
   bg.getPerformance(getPerformance);
}

</script>

<body>
</body>
